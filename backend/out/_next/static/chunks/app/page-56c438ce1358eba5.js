(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7676:(e,t,n)=>{Promise.resolve().then(n.bind(n,3624))},6046:(e,t,n)=>{"use strict";var o=n(6658);n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(5155),l=n(2223);function r(){let{points:e,name:t}=(0,l.a)();return(0,o.jsxs)("div",{className:"absolute bottom-2 left-2 pointer-events-none p-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-black rounded-md shadow-md z-50 font-mono",children:[(0,o.jsx)("h1",{className:"text-sm font-bold text-center",children:"MingaCoins"}),(0,o.jsx)("div",{className:"flex items-center justify-center",children:(0,o.jsx)("p",{className:"text-2xl font-bold",children:e})})]})}},2223:(e,t,n)=>{"use strict";n.d(t,{UserPointsProvider:()=>a,a:()=>s});var o=n(5155),l=n(2115);let r=(0,l.createContext)(),s=()=>(0,l.useContext)(r),a=e=>{let{children:t}=e,[n,s]=(0,l.useState)(0),[a,i]=(0,l.useState)("MunichMeet");return(0,o.jsx)(r.Provider,{value:{points:n,addPoints:e=>s(t=>t+e),resetPoints:()=>s(0),name:a},children:t})}},3624:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n(5155),l=n(2115),r=n(9990),s=n.n(r);n(8689);var a=n(2223),i=n(6046);function c(e){let{event:t,onClose:n}=e;return(0,o.jsx)("div",{className:"modal",children:(0,o.jsxs)("div",{className:"modal-content",children:[(0,o.jsx)("span",{className:"close",onClick:n,children:"\xd7"}),(0,o.jsx)("h2",{children:t.title}),(0,o.jsx)("p",{children:t.description}),(0,o.jsx)("p",{children:t.date}),(0,o.jsx)("p",{children:t.location})]})})}var d=n(6803);function u(){let e=(0,i.useRouter)(),[t,n]=(0,l.useState)(!0),[r,u]=(0,l.useState)({lat:null,lng:null}),{points:g,addPoints:m,resetPoints:h,name:p}=(0,a.a)();return(0,l.useEffect)(()=>{var e;s().accessToken="pk.eyJ1IjoiY2hhcmxlc2RlYW4wMDEyIiwiYSI6ImNsdzZ5OTZwcjFveWQyanBodjZkdGEydXYifQ.Qm8HDp_pE5t9nyB9lgE0HA",navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:n}=e.coords;u({lat:t,lng:n})},e=>console.error("Error retrieving location:",e),{enableHighAccuracy:!0}):console.error("Geolocation is not supported by this browser.");let t=function(){if(null==r.lat||null==r.lng)return new(s()).Map({container:"map",style:"mapbox://styles/mapbox/navigation-night-v1",center:[r.lat,r.lng],zoom:15.5,pitch:45,bearing:-17.6,antialias:!0})}();t.on("style.load",()=>(function(e){let t=e.getStyle().layers.find(e=>"symbol"===e.type&&e.layout["text-field"]).id;e.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},t)})(t)),t.addControl(new(s()).NavigationControl);let n=(e=function(e){let t=document.createElement("div");return t.style.backgroundImage="url('/usermarker.png')",t.style.width="70px",t.style.height="70px",t.style.backgroundSize="contain",t.style.backgroundRepeat="no-repeat",t.style.borderRadius="50%",new(s()).Marker({element:t}).setLngLat([r.lng,r.lat]).addTo(e)}(t),setInterval(()=>{u(n=>{let o=n.lat+9e-6,l=n.lng+1e-5;return isNaN(o)||isNaN(l)?(console.error("Invalid position:",{lat:o,lng:l}),n):(e.setLngLat([l,o]),t.isMoving()||t.easeTo({center:[l,o],duration:1e3,easing:e=>e}),{lat:o,lng:l})})},1e3));return()=>{clearInterval(n),t.remove()}},[]),(0,o.jsxs)("div",{className:"h-screen flex flex-col relative",children:[(0,o.jsx)("div",{id:"map",className:"flex-1"}),(0,o.jsx)("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",children:(0,o.jsx)("img",{src:"/logo.png",alt:"Logo",className:"w-24 h-24 object-contain rounded-full"})}),t&&(0,o.jsx)(c,{event:{title:"dddd",description:"iudshfiu",date:"12.92.23",location:"kasjdi"},setShowEvent:n}),(0,o.jsx)(d.A,{}),(0,o.jsx)("button",{onClick:()=>e.push("/scan"),className:"absolute bottom-2 right-4 z-50 w-16 h-16  p-0 bg-yellow-400 hover:opacity-25",style:{border:"none",cursor:"pointer"},children:(0,o.jsx)("img",{src:"/qrcodebutton.png",alt:"QR Code Button",className:"w-full h-full object-contain"})})]})}},8689:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[168,240,441,517,358],()=>t(7676)),_N_E=e.O()}]);