(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7676:(e,t,n)=>{Promise.resolve().then(n.bind(n,9319))},6046:(e,t,n)=>{"use strict";var o=n(6658);n.o(o,"useRouter")&&n.d(t,{useRouter:function(){return o.useRouter}})},2223:(e,t,n)=>{"use strict";n.d(t,{UserPointsProvider:()=>i,a:()=>a});var o=n(5155),l=n(2115);let r=(0,l.createContext)(),a=()=>(0,l.useContext)(r),i=e=>{let{children:t}=e,[n,a]=(0,l.useState)(0),[i,s]=(0,l.useState)("MunichMeet");return(0,o.jsx)(r.Provider,{value:{points:n,addPoints:e=>a(t=>t+e),resetPoints:()=>a(0),name:i},children:t})}},9319:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var o=n(5155),l=n(2115),r=n(9990),a=n.n(r);n(8689);var i=n(2223),s=n(6046),u=n(2818);function c(){let e=(0,s.useRouter)(),[t,n]=(0,l.useState)({lat:null,lng:null}),{points:r,addPoints:c,resetPoints:d,name:g}=(0,i.a)();return(0,l.useEffect)(()=>{var e;a().accessToken=u.env.NEXT_PUBLIC_API_KEY,navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:o}=e.coords;n({lat:t,lng:o})},e=>console.error("Error retrieving location:",e),{enableHighAccuracy:!0}):console.error("Geolocation is not supported by this browser.");let o=function(){if(null==t.lat||null==t.lng)return new(a()).Map({container:"map",style:"mapbox://styles/mapbox/navigation-night-v1",center:[t.lat,t.lng],zoom:15.5,pitch:45,bearing:-17.6,antialias:!0})}();o.on("style.load",()=>(function(e){let t=e.getStyle().layers.find(e=>"symbol"===e.type&&e.layout["text-field"]).id;e.addLayer({id:"add-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}},t)})(o)),o.addControl(new(a()).NavigationControl);let l=(e=new(a()).Marker({color:"blue"}).setLngLat([t.lng,t.lat]).setPopup(new(a()).Popup({offset:25}).setHTML("<h3>Your Simulated Location</h3>\n         <p>Lat: ".concat(t.lat,", Lng: ").concat(t.lng,"</p>"))).addTo(o),setInterval(()=>{n(t=>{let n=t.lat+9e-6,l=t.lng+1e-5;return isNaN(n)||isNaN(l)?(console.error("Invalid position:",{lat:n,lng:l}),t):(e.setLngLat([l,n]),o.isMoving()||o.easeTo({center:[l,n],duration:1e3,easing:e=>e}),{lat:n,lng:l})})},1e3));return()=>{clearInterval(l),o.remove()}},[]),(0,o.jsxs)("div",{className:"h-screen flex flex-col relative",children:[(0,o.jsx)("div",{id:"map",className:"flex-1"}),r," ",g,(0,o.jsx)("button",{onClick:()=>c(10),children:"Add Points"}),(0,o.jsx)("button",{onClick:()=>{e.push("/d")},children:"switch page"}),(0,o.jsx)("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",children:(0,o.jsx)("img",{src:"/logo.png",alt:"Logo",className:"w-24 h-24 object-contain rounded-full"})})]})}},8689:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[168,240,441,517,358],()=>t(7676)),_N_E=e.O()}]);